<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Para mi amada Marisol</title>
    <style>
        body { margin: 0; overflow: hidden; background: #020005; font-family: 'Arial', sans-serif; cursor: pointer; }
        canvas { display: block; }
        
        #nucleo {
            position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            text-align: center; pointer-events: none; z-index: 10;
        }
        h1 { 
            font-size: 5rem; margin: 0; 
            color: #fff;
            text-shadow: 0 0 10px #fff, 0 0 20px #ff0077, 0 0 40px #ff0077, 0 0 70px #ff0077;
            letter-spacing: 12px;
            animation: pulse 2s infinite alternate;
        }
        p { 
            font-size: 2rem; color: #ffb3d9; 
            text-shadow: 0 0 10px #ff0077; 
            margin-top: 10px;
        }

        @keyframes pulse {
            from { transform: scale(1); opacity: 0.9; }
            to { transform: scale(1.05); opacity: 1; }
        }

        @media (max-width: 600px) {
            h1 { font-size: 3rem; letter-spacing: 5px; }
            p { font-size: 1.2rem; }
        }
    </style>
</head>
<body onclick="iniciarMagia()" ontouchstart="iniciarMagia()">

    <div id="nucleo">
        <h1 id="nombre">MARISOL</h1>
        <p>TE AMO</p>
    </div>

    <div id="player" style="position: absolute; top: -1000px;"></div>

    <canvas id="galaxy"></canvas>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player;
        let musicaIniciada = false;

        // Carga la API de YouTube
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: '6iQy6_D6i1E', // Siddhartha - Me Hace Falta
                playerVars: { 
                    'autoplay': 0, 
                    'controls': 0, 
                    'rel': 0,
                    'enablejsapi': 1 
                }
            });
        }

        // Función para activar la música al primer toque
        function iniciarMagia() {
            if (!musicaIniciada && player && player.playVideo) {
                player.playVideo();
                musicaIniciada = true;
                console.log("Magia iniciada");
            }
        }

        // --- LÓGICA DE LA GALAXIA ---
        const canvas = document.getElementById('galaxy');
        const ctx = canvas.getContext('2d');
        let width, height, centerX, centerY;
        let zoom = 1.2;

        const phrases = ["Te adoro", "Eres mi sol", "Mi niña", "Mi cielo", "Mi bebé", "Mi mundo entero", "Juntos siempre", "Latido a latido", "Eres mi todo", "Mi luz"];
        const gifUrls = [
            "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueW9oYmR3ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/TILidp7O0H6EBX9VvC/giphy.gif",
            "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueW9oYmR3ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6ZzR6JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1z/W6LhK17281OPlS5W8p/giphy.gif"
        ];
        
        const loadedImages = [];
        gifUrls.forEach(url => {
            let img = new Image();
            img.crossOrigin = "anonymous";
            img.src = url;
            loadedImages.push(img);
        });

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            centerX = width / 2;
            centerY = height / 2;
        }

        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor(type) {
                this.type = type;
                this.angle = Math.random() * Math.PI * 2;
                this.dist = Math.random() * (Math.min(width, height) * 0.9);
                this.speed = (Math.random() * 0.003) + 0.0008;
                this.z = Math.random() * 2 - 1;
                this.text = type === 'phrase' ? phrases[Math.floor(Math.random() * phrases.length)] : "";
                this.img = type === 'image' ? loadedImages[Math.floor(Math.random() * loadedImages.length)] : null;
                const hues = [300, 330, 350, 180]; 
                this.color = `hsl(${hues[Math.floor(Math.random()*hues.length)]}, 100%, 75%)`;
            }
            update() { this.angle += this.speed / (this.dist * 0.003 + 1); }
            draw() {
                const x = Math.cos(this.angle) * this.dist;
                const y = Math.sin(this.angle) * this.dist * 0.4;
                const s = zoom * (1 + this.z * 0.3);
                const px = centerX + x * s;
                const py = centerY + y * s;
                if (this.type === 'phrase') {
                    ctx.font = `bold ${14 * s}px Arial`; ctx.fillStyle = "#fff"; ctx.fillText(this.text, px, py);
                } else if (this.type === 'image' && this.img && this.img.complete) {
                    const imgSize = 60 * s; ctx.drawImage(this.img, px - imgSize/2, py - imgSize/2, imgSize, imgSize);
                } else {
                    ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(px, py, (Math.random() * 2.5 + 0.5) * s, 0, Math.PI * 2); ctx.fill();
                }
            }
        }

        const particles = [];
        for (let i = 0; i < 1500; i++) particles.push(new Particle('star'));
        for (let i = 0; i < 25; i++) particles.push(new Particle('phrase'));
        for (let i = 0; i < 15; i++) particles.push(new Particle('image'));

        function animate() {
            ctx.fillStyle = 'rgba(2, 0, 5, 0.2)';
            ctx.fillRect(0, 0, width, height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>
</html>

